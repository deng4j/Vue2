<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vue</title>
</head>
<body>
    <div id="root">
        <h1>filters过滤器：</h1>
        <p>Vue.js允许自定义过滤器，可被用于一些常见的文本格式化。</p>
        <p>过滤器可以用在两个地方：双花括号插值和v-bind表达式。</p>
        <p>过滤器应该被添加在JavaScript表达式的尾部，由“管道”符号指示</p>
        <p>支持级联操作</p>
        <p>过滤器不改变真正的`data`，而只是改变渲染的结果，并返回过滤后的版本</p>
        <hr>
        <input type="text" v-model='msg'>
        <div>
            <!-- upper 被定义为接收单个参数的过滤器函数，表达式  msg  的值将作为参数传入到函数中 -->
            <div>{{msg | upper}}</div>
        </div>
        <div>
            <!--  
            支持级联操作
            upper  被定义为接收单个参数的过滤器函数，表达式msg 的值将作为参数传入到函数中。
            然后继续调用同样被定义为接收单个参数的过滤器 lower ，将upper 的结果传递到lower中
            -->
            <div>{{msg | upper | upperF}}</div>
        </div>
    </div>
</body>
</html>
<script src="https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js"></script>
<script>
    //  upperF为全局过滤器     
    Vue.filter('upperF', function(val) {
        //末尾字母大写
        return val.slice(0,val.length-1) + val.charAt(val.length-1).toUpperCase();
        });

   const vm = new Vue({
            el:'#root',
            data(){
                return {
                    msg: '',
                }
            },
            //  定义filters 中的过滤器为局部过滤器 
            filters: {
                // upper自定义的过滤器名字 
                // upper 被定义为接收单个参数的过滤器函数，表达式  msg  的值将作为参数传入到函数中
                upper: function(val) {
                //  过滤器中一定要有返回值 这样外界使用过滤器的时候才能拿到结果
                //首字母大写
                return val.charAt(0).toUpperCase() + val.slice(1);
                }
            }
        });
</script>